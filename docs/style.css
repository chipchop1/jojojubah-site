/* ================================
   Global reset & tokens
   ================================ */
img, svg, video { max-width: 100%; height: auto; display: block; }
*{ box-sizing:border-box; margin:0; padding:0; }
html,body{ height:100%; }

/* ---- Tokens (light defaults) ---- */
:root{
  --bg:#e9eef5; --bg-2:#edf2f8;
  --text:#3a4252; --text-dim:#6b7280; --text-muted:#8a94a6;
  --accent:#3b82f6;

  --neu-light:#ffffff; --neu-dark:#cfd6e2; --neu-radius:16px;
  --neu-inset: inset 6px 6px 12px var(--neu-dark), inset -6px -6px 12px var(--neu-light);
  --neu-out:   10px 10px 20px var(--neu-dark), -10px -10px 20px var(--neu-light);
  --t: all .25s cubic-bezier(.25,.1,.25,1);
  --container-pad:2rem;

  /* assistant */
  --assistant-size: 64px;
  --assistant-gap: 12px;
  --assistant-z: 99999;
}

/* ---- Dark mode overrides via <html class="dark"> ---- */
:root.dark{
  --bg:#0f172a; --bg-2:#0b1222;
  --text:#e5e7eb; --text-dim:#cbd5e1; --text-muted:#94a3b8;
  --accent:#60a5fa;

  --neu-light:rgba(255,255,255,.08);
  --neu-dark:rgba(0,0,0,.6);
  --neu-inset: inset 6px 6px 12px rgba(0,0,0,.6), inset -6px -6px 12px rgba(255,255,255,.06);
  --neu-out:   10px 10px 20px rgba(0,0,0,.6), -10px -10px 20px rgba(255,255,255,.06);
}

/* ---- Base ---- */
body{
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji", sans-serif;
  color: var(--text);
  background: linear-gradient(145deg,var(--bg),var(--bg-2));
  line-height: 1.6;
  overflow-x:hidden;
}
a{ color: inherit; text-decoration: none; }
.container{ max-width:1200px; margin:0 auto; padding:0 var(--container-pad); }
@media (max-width:860px){ .container{ padding:0 1rem; }}

/* ---- Background helpers ---- */
.background-gradient{
  position:fixed; inset:0; z-index:-2;
  background:
    radial-gradient(900px 600px at 20% 8%, rgba(255,255,255,.50) 0%, transparent 60%),
    linear-gradient(145deg, #f7f8fb, #eef2f8);
}
:root.dark .background-gradient{
  background:
    radial-gradient(900px 600px at 18% 6%, rgba(255,255,255,0.06) 0%, transparent 60%),
    linear-gradient(145deg, var(--bg), var(--bg-2));
}
.particles{position:fixed;inset:0;z-index:-1;pointer-events:none;}

/* Scroll progress */
.scroll-indicator{
  position:fixed; top:80px; left:0; height:3px; width:0%;
  background: linear-gradient(90deg,var(--accent),#60a5fa);
  z-index:999; transition:width .12s ease-out;
}

/* ---- Neumorphic primitives ---- */
.neu-plate{background:var(--bg);border-radius:var(--neu-radius);box-shadow:var(--neu-out)}
.neu-plate:hover{transform:translateY(-2px)}
.neu-press{box-shadow:var(--neu-inset)}
.hr-neu{height:1px;border:0;margin:1.25rem 0;background:linear-gradient(90deg,transparent,#dbe3ef,transparent)}

/* ================= NAV ================= */
nav{
  position:sticky; top:0; z-index:1000;
  backdrop-filter:blur(10px);
  background: rgba(255,255,255,.55);
  border-bottom:1px solid #dde6f3;
}
:root.dark nav{
  background:rgba(15,23,42,.55);
  border-bottom-color:#0b1222;
}
.nav-container{height:80px;display:flex;align-items:center;justify-content:space-between}
.logo-area{display:flex;align-items:center;gap:12px}
.site-avatar{
  width:48px;height:48px;border-radius:12px;border:1px solid rgba(255,255,255,.6);
  box-shadow:var(--neu-out);object-fit:cover;transition:var(--t);
}
.site-avatar:hover{transform:scale(1.06) rotate(3deg)}
.logo-text{
  font-weight:800;font-size:1.5rem;color:transparent;
  background:linear-gradient(90deg,var(--accent),#60a5fa);-webkit-background-clip:text;background-clip:text
}
.nav-links{display:flex;gap:1.25rem;list-style:none;margin:0;padding:0}
.nav-link{
  color:var(--text-dim);font-weight:600;padding:.55rem .9rem;border-radius:12px;
  background:var(--bg); box-shadow:var(--neu-out); transition:var(--t);
}
.nav-link:hover,.nav-link.active{color:#0f172a;box-shadow:var(--neu-inset)}
:root.dark .nav-link:hover,:root.dark .nav-link.active{ color:#fff; }

/* Mobile menu */
.mobile-menu-button{display:none;background:none;border:0;cursor:pointer;padding:.5rem}
.hamburger{width:24px;height:3px;background:#0f172a;border-radius:2px;margin:4px 0;transition:var(--t)}
:root.dark .hamburger{ background:#e5e7eb; }
.mobile-menu-button.active .hamburger:nth-child(1){transform:rotate(45deg) translate(5px,5px)}
.mobile-menu-button.active .hamburger:nth-child(2){opacity:0}
.mobile-menu-button.active .hamburger:nth-child(3){transform:rotate(-45deg) translate(5px,-6px)}

@media (max-width:860px){
  .nav-links{
    position:fixed; top:80px; left:-100%; width:100%; height:calc(100dvh - 80px);
    backdrop-filter:blur(8px); background:rgba(233,238,245,.95);
    flex-direction:column; align-items:center; padding-top:1.25rem; transition:left .25s ease; z-index:999;
  }
  :root.dark .nav-links{ background:rgba(10,10,10,.96) }
  .nav-links.active,.nav-links.open{ left:0 }
}

/* Make in-page anchors land below sticky nav */
section { scroll-margin-top: 96px; }

/* ================= HERO / SECTIONS ================= */
#home{min-height:100dvh; display:flex; align-items:center; overflow:hidden}
.hero-content{text-align:center; z-index:1}
.hero-title{font-size:clamp(3rem,8vw,6rem);font-weight:900;letter-spacing:-.02em;margin-bottom:.5rem}
.gradient-text{color:transparent;background:linear-gradient(90deg,var(--accent),#60a5fa);-webkit-background-clip:text;background-clip:text}
.hero-subtitle{color:var(--text-dim); font-size:1.15rem; margin-bottom:1.75rem}
.hero-socials{display:flex;justify-content:center;gap:1rem}
.social-link{
  width:54px;height:54px; display:flex; align-items:center; justify-content:center;
  color:#4b5563; border-radius:14px;
  background:var(--bg); box-shadow:var(--neu-out); transition:var(--t);
}
.social-link:hover{ box-shadow:var(--neu-inset); color:#0f172a; transform:translateY(-2px)}
.social-link svg{width:24px;height:24px;fill:currentColor}

/* About / Projects / Buttons */
.section{ padding:40px 0; }
.section-title{
  text-align:center;margin-bottom:3rem;font-weight:800;font-size:clamp(2rem,5vw,3rem);
  color:transparent;background:linear-gradient(90deg,#0f172a,var(--text));-webkit-background-clip:text;background-clip:text
}
.about-content{max-width:850px;margin:0 auto;text-align:center}
.about-text{padding:2.25rem;border-radius:var(--neu-radius);background:var(--bg);box-shadow:var(--neu-out);color:var(--text-dim);font-size:1.075rem}

.projects-grid{display:grid; grid-template-columns: repeat(auto-fit,minmax(320px,1fr)); gap:1.5rem; margin-top:2rem}
.project-card{border-radius:var(--neu-radius); background:var(--bg); box-shadow:var(--neu-out); transition:var(--t); overflow:hidden}
.project-card:hover{transform:translateY(-3px)}
.project-image{height:200px;display:flex;align-items:center;justify-content:center;background:linear-gradient(145deg,#f0f4fb,#e2e8f6);border-bottom:1px solid #e5edf8}
.project-content{padding:1.75rem}
.project-title{font-weight:700;font-size:1.25rem;color:#0f172a;margin-bottom:.5rem}
.project-description{color:var(--text-dim);margin-bottom:1rem}
.btn{
  display:inline-block;border:0;cursor:pointer;padding:.8rem 1.25rem;border-radius:12px;font-weight:700;
  color:#0f172a;background:var(--bg);box-shadow:var(--neu-out);transition:var(--t);
}
.btn:hover{box-shadow:var(--neu-inset)}

/* Contact */
.contact-content{max-width:620px;margin:0 auto;text-align:center}
.contact-info{padding:2rem;border-radius:var(--neu-radius);background:var(--bg);box-shadow:var(--neu-out)}
.contact-item{margin-bottom:1rem;font-size:1.05rem}
.muted{color:var(--text-muted);font-size:.9rem}

/* Footer */
footer{padding:3rem 0;border-top:1px solid #e1e8f4;background:linear-gradient(145deg,#e8edf4,#f4f7fb)}
.footer-content{display:flex;justify-content:space-between;align-items:center;gap:1.25rem;flex-wrap:wrap}
.footer-logo{display:flex;align-items:center;gap:12px}
.footer-links{display:flex;gap:1rem;flex-wrap:wrap}
.footer-links a{color:var(--text-dim);text-decoration:none;padding:.5rem .85rem;border-radius:12px;background:var(--bg);box-shadow:var(--neu-out);transition:var(--t)}
.footer-links a:hover{box-shadow:var(--neu-inset);color:#0f172a}

/* ================= COOKIE ================= */
#cookieConsentBanner{position:fixed;left:50%;bottom:24px;transform:translateX(-50%);background:var(--bg);border-radius:18px;box-shadow:var(--neu-out);padding:1rem 1.25rem;z-index:10000;width:min(92vw,520px);text-align:center}
#cookieConsentBanner p{color:var(--text-dim);margin-bottom:.85rem}
#cookieConsentBanner a{color:var(--accent);text-decoration:underline}
.cookie-buttons{display:flex;gap:.75rem;justify-content:center;flex-wrap:wrap}
.cookie-btn{padding:.7rem 1.1rem;border-radius:12px;border:0;font-weight:700;cursor:pointer;background:var(--bg);box-shadow:var(--neu-out);color:#0f172a;transition:var(--t)}
.cookie-btn:hover{box-shadow:var(--neu-inset)}
.cookie-btn.accept{color:#0f172a}
.cookie-btn.decline{color:#475569}

/* Learn modal (used by “Learn more”) */
.learn-more-modal{position:fixed;inset:auto 0 0 0;margin:auto;top:50%;left:50%;transform:translate(-50%,-50%);width:min(90vw,540px);background:var(--bg);border-radius:18px;box-shadow:var(--neu-out);padding:1.5rem;z-index:10001}
.learn-more-modal h3{color:#0f172a;margin-bottom:.75rem}
.learn-more-modal .close-btn{position:absolute;top:10px;right:14px;background:none;border:0;font-size:1.6rem;color:#64748b;cursor:pointer}
.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.35);z-index:10000}

/* ================= ACCORDION ================= */
.accordion{max-width:900px;margin:0 auto}
.acc-item{background:var(--bg);border-radius:var(--neu-radius);box-shadow:var(--neu-out);overflow:hidden;transition:var(--t);margin-bottom:1rem}
.acc-item:hover{transform:translateY(-2px)}
.acc-header{width:100%;display:flex;align-items:center;justify-content:space-between;gap:1rem;padding:1.1rem 1.25rem;background:transparent;border:0;cursor:pointer;color:#0f172a;font-weight:700;text-align:left}
.acc-icon{opacity:.8;transition:transform .2s ease}
.acc-item.open .acc-icon{transform:rotate(180deg)}
.acc-content{max-height:0;overflow:hidden;transition:max-height .3s ease;border-top:1px solid #e5edf8}
.acc-inner{padding:1rem 1.25rem 1.35rem;color:var(--text-dim)}
.acc-inner h3,.acc-inner h4{color:#0f172a;margin:.5rem 0 .25rem}
.acc-inner p{margin-bottom:.6rem}

/* Toast */
.toast{position:fixed;right:24px;bottom:24px;z-index:10002;pointer-events:none;padding:.8rem 1rem;border-radius:14px;background:var(--bg);color:#0f172a;box-shadow:var(--neu-out);opacity:0;transform:translateY(12px);transition:opacity .25s ease,transform .25s ease}
.toast.show{opacity:1;transform:translateY(0)}

/* Fade-in helper */
.fade-in{opacity:0;transform:translateY(30px);transition:opacity .6s ease, transform .6s ease}
.fade-in.visible{opacity:1;transform:none}

/* ================= ASSISTANT (avatar + bubble + chat) ================= */
.assistant{
  position: fixed;
  right: 20px;
  bottom: 20px;
  z-index: var(--assistant-z);
  display: flex;
  align-items: flex-end;
  gap: 10px;
  cursor: grab;
  user-select: none;
}
.assistant:active{ cursor: grabbing; }
.assistant-avatar{
  width: var(--assistant-size);
  height: var(--assistant-size);
  border-radius: 50%;
  object-fit: cover;
  background: var(--bg);
  border: 2px solid rgba(255,255,255,.7);
  box-shadow: var(--neu-out);
}

/* Tooltip bubble */
#assistantBubble{
  position: fixed;
  bottom: calc(20px + var(--assistant-size) + var(--assistant-gap));
  right: 20px;
  max-width: min(360px, 80vw);
  padding: 14px 44px 14px 18px; /* extra right padding for × */
  border-radius: 12px;
  display: none;
  z-index: var(--assistant-z);
  background:
    radial-gradient(140px 80px at 18% 26%, rgba(255,255,255,.18), transparent 60%),
    linear-gradient(145deg, var(--bg), var(--bg-2));
  color: var(--text);
  border: 1px solid rgba(0,0,0,.12);
  box-shadow: var(--neu-out);
}
:root.dark #assistantBubble{ border-color: rgba(255,255,255,.10); }
#assistantBubble.show{ display: block !important; }

/* Arrow */
#assistantBubble::after{
  content: "";
  position: absolute;
  bottom: -16px;
  right: calc((var(--assistant-size) / 2) - 8px);
  border-width: 16px 12px 0;
  border-style: solid;
  border-color: var(--bg-2) transparent transparent transparent;
  filter: drop-shadow(0 -1px 0 rgba(0,0,0,.12));
}

/* Close (×) */
#assistantClose{
  position: absolute;
  right: 10px;
  top: 8px;
  background: rgba(0,0,0,.06);
  border: 0;
  border-radius: 8px;
  padding: 6px 10px;
  color: var(--text);
  font-weight: 800;
  cursor: pointer;
}
#assistantClose:hover{ background: rgba(0,0,0,.10); }
:root.dark #assistantClose{ background: rgba(255,255,255,.12); color: #fff; }
:root.dark #assistantClose:hover{ background: rgba(255,255,255,.18); }

/* Chat mini-UI */
.assistant .clippy-form { display:flex; gap:8px; margin-top:8px; }
.assistant .clippy-input {
  flex:1; padding:8px 10px;
  border:1px solid #ddd; border-radius:8px;
  background:#fff; color:#111;
}
:root.dark .assistant .clippy-input{
  background:#0b1222; color:#e5e7eb; border-color:#162033;
}
.assistant .clippy-send {
  padding:8px 12px;
  border:1px solid #ddd; background:#fff; color:#111;
  border-radius:8px; cursor:pointer;
}
:root.dark .assistant .clippy-send{
  background:#0b1222; color:#e5e7eb; border-color:#162033;
}
.assistant .clippy-send:disabled{ opacity:.6; cursor:not-allowed; }
.assistant .clippy-log {
  max-height:180px; overflow:auto; margin-top:8px;
  display:flex; flex-direction:column; gap:6px; font-size:14px;
}
.assistant .clippy-log .line.you {
  align-self:flex-end; background:rgba(148,163,184,.18);
  padding:6px 10px; border-radius:12px;
}
.assistant .clippy-log .line.clippy {
  align-self:flex-start; background:rgba(56,189,248,.15);
  padding:6px 10px; border-radius:12px;
}

/* ================= Responsive tweaks ================= */
@media (max-width:768px){
  .container{padding:0 1rem}
  .mobile-menu-button{display:block}
  .toggle-group{ position:fixed; top:98px; right:12px; gap:6px }
  #themeToggle,#matrixToggle{ padding:.45rem .6rem; font-size:.9rem }
  .footer-content{justify-content:center;text-align:center;flex-direction:column;align-items:center;gap:.75rem}
  .footer-links{justify-content:center;gap:.5rem;flex-wrap:nowrap}
  .footer-links a{font-size:.85rem;padding:.35rem .55rem}
}

/* Dark-mode small polish */
:root.dark .section-title{ color:#fff; background:none; -webkit-background-clip:initial; background-clip:initial; }
:root.dark .hamburger{ background:#fff; }
