/* ================================
   Neumorphism Theme — Light/Dark
   ================================ */

:root{
  --bg: #f5f7fb;
  --fg: #1f2937;
  --muted: #6b7280;
  --brand: #0ea5e9;

  --neu-out: 6px 6px 12px #cbd5e1, -6px -6px 12px #ffffff;
  --neu-inset: inset 6px 6px 12px #cbd5e1, inset -6px -6px 12px #ffffff;

  --card: #ffffff;
  --border: #e5e7eb;

  --assistant-size: 64px;
  --assistant-gap: 10px;
  --assistant-z: 1200;
}

:root.dark{
  --bg: #0f172a;
  --fg: #e5e7eb;
  --muted: #94a3b8;
  --brand: #38bdf8;

  --neu-out: 6px 6px 12px rgba(0,0,0,.6), -6px -6px 12px rgba(255,255,255,.06);
  --neu-inset: inset 6px 6px 12px rgba(0,0,0,.6), inset -6px -6px 12px rgba(255,255,255,.06);

  --card: #0b1222;
  --border: #162033;
}

/* === Base === */
*{ box-sizing: border-box; }
html,body{ height: 100%; }
body{
  margin: 0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color: var(--fg);
  background: var(--bg);
  line-height: 1.6;
}

/* Containers */
.container{ max-width: 1200px; margin: 0 auto; padding: 0 20px; }

/* === Navbar === */
nav{
  position: sticky; top: 0; z-index: 1000;
  background: rgba(255,255,255,.6);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid var(--border);
}
:root.dark nav{
  background: rgba(15,23,42,.6);
  border-bottom-color: #0b1222;
}
.nav-container{
  display: flex; align-items: center; justify-content: space-between;
  height: 68px;
}
.logo{ letter-spacing: 2px; font-weight: 600; }
.nav-links{ list-style: none; display:flex; gap:22px; }
.nav-links a{ color: var(--fg); text-decoration: none; opacity: .9; }
.nav-links a:hover{ opacity: 1; }

/* Mobile menu */
.nav-toggle{ display:none; background:none; border:0; }
.nav-toggle .bar{ display:block; width:24px; height:2px; background:var(--fg); margin:5px 0; }
@media (max-width: 860px){
  .nav-toggle{ display:block; }
  .nav-links{
    position: absolute; left:0; right:0; top:68px;
    background: var(--bg);
    display:none;
    flex-direction: column;
    padding: 14px 20px; gap: 10px;
    border-bottom: 1px solid var(--border);
  }
  .nav-links.open{ display:flex; }
}

/* === Footer === */
footer{
  border-top: 1px solid var(--border);
  margin-top: 60px; padding: 24px 0;
  color: var(--muted);
}

/* === Cards / Sections === */
.section{ padding: 40px 0; }
.card{
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 16px;
  box-shadow: var(--neu-out);
  padding: 20px;
}

/* === Home specific bits (projects grid etc.) — trimmed for brevity === */
/* ... your existing styles remain unchanged ... */

/* === Assistant (avatar + bubble) ================= */
.assistant{
  position: fixed;
  right: 20px;
  bottom: 20px;
  z-index: var(--assistant-z);
  display: flex;
  align-items: flex-end;
  gap: 10px;
  cursor: grab;
  user-select: none;
}
.assistant:active{ cursor: grabbing; }
.assistant-avatar{
  width: var(--assistant-size);
  height: var(--assistant-size);
  border-radius: 50%;
  object-fit: cover;
  background: var(--bg);
  border: 2px solid rgba(255,255,255,.7);
  box-shadow: var(--neu-out);
}

/* Tooltip bubble */
#assistantBubble{
  position: fixed;
  bottom: calc(20px + var(--assistant-size) + var(--assistant-gap));
  right: 20px;
  max-width: min(360px, 80vw);
  padding: 14px 44px 14px 18px; /* extra right padding for close × */
  border-radius: 14px;
  background: var(--card);
  border: 1px solid var(--border);
  box-shadow: var(--neu-out);
  color: var(--fg);
  transform: translateY(8px);
  opacity: 0;
  pointer-events: none;
  transition: transform .18s ease, opacity .18s ease;
}
#assistantBubble.show{
  transform: translateY(0);
  opacity: 1;
  pointer-events: auto;
}
#assistantBubble .assistant-close{
  position: absolute; right: 10px; top: 8px;
  width: 28px; height: 28px; border-radius: 50%;
  border: 0; background: transparent; color: var(--muted);
  font-size: 20px; line-height: 28px; cursor: pointer;
}

/* === Tooltip Fix (no text overlap) === */
#assistantText {
  display: block;
  margin-right: 28px; /* space so text doesn't hit the close X */
}

/* Safety: only hide stray buttons at top-level of bubble (not the chat form) */
#assistantBubble > button:not(#assistantClose) {
  display: none !important;
}
/* Prevent tooltip text overlapping close button */
#assistantText {
  padding-right: 24px; /* space so text doesn't run under the × */
  margin: 0;           /* clean reset */
}

/* === Clippy chat styles (safe to remove) ============================ */
.assistant .clippy-form { display:flex; gap:8px; margin-top:8px; }
.assistant .clippy-input {
  flex:1; padding:8px 10px;
  border:1px solid var(--border);
  border-radius:8px; background:var(--bg); color:var(--fg);
}
.assistant .clippy-send {
  padding:8px 12px;
  border:1px solid var(--border);
  background:var(--card); color:var(--fg);
  border-radius:8px; cursor:pointer;
}
.assistant .clippy-send:disabled{ opacity:.6; cursor:not-allowed; }
.assistant .clippy-log {
  max-height:180px; overflow:auto; margin-top:8px;
  display:flex; flex-direction:column; gap:6px; font-size:14px;
}
.assistant .clippy-log .line.you {
  align-self:flex-end; background:rgba(148,163,184,.18);
  padding:6px 10px; border-radius:12px;
}
.assistant .clippy-log .line.clippy {
  align-self:flex-start; background:rgba(56,189,248,.15);
  padding:6px 10px; border-radius:12px;
}

/* Avatar hover cue */
.assistant-avatar { transition: transform .15s ease; }
.assistant-avatar:hover { transform: translateY(-2px); cursor: pointer; }

/* === Toasts (home/economics) — unchanged from your existing file === */
/* ... keep your existing toast styles here ... */
