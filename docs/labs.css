/* Jubah Labs — Matrix-friendly page */

/* ============ IMPORT MODULAR CSS ARCHITECTURE ============ */
/* Load in order: base → themes → components → layout → assistant */
@import url("styles/base.css");
@import url("styles/themes.css");
@import url("styles/components.css");
@import url("styles/layout.css");
@import url("styles/assistant.css");

/* ============ LABS PAGE SPECIFIC STYLES ============ */

/* Matrix canvas sits behind content */
.matrix-bg {
  position: fixed;
  inset: 0;
  width: 100%;
  height: 100svh;
  pointer-events: none;
  z-index: -2;
}

/* Softer page backdrop when Matrix is present (both themes) */
body:has(#matrix-canvas) .background-gradient {
  background:
    radial-gradient(900px 600px at 20% 8%, rgba(255,255,255,0.04) 0%, transparent 60%),
    linear-gradient(145deg, var(--bg), var(--bg-2));
}

/* -------- Matrix tokens (theme-aware via CSS vars) -------- */
body:not([data-theme="dark"]):has(#matrix-canvas) {
  --matrix-color: #3b82f6;     /* blue digits on light mode */
  --matrix-glow: rgba(0,0,0,0); /* no halo */
  --matrix-fade: rgba(255,255,255,0.08);
}

body[data-theme="dark"]:has(#matrix-canvas) {
  --matrix-color: #00ff41;     /* classic green digits */
  --matrix-glow: rgba(0,255,65,0.06); /* tiny halo */
  --matrix-fade: rgba(0,0,0,0.08);     /* longer trails, same as light */
}

/* Enforce pure black underlay in dark mode: no green wash at all */
body[data-theme="dark"]:has(#matrix-canvas) .matrix-bg,
body[data-theme="dark"]:has(#matrix-canvas) .background-gradient {
  background: #000 !important;
}

/* Reuse components with site tokens */
body:has(#matrix-canvas) .section-title {
  background: linear-gradient(90deg, #22c55e, #86efac);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  opacity: 0.95;
}

body:has(#matrix-canvas) .site-avatar {
  border-color: rgba(255,255,255,0.1);
  box-shadow: 6px 6px 14px rgba(0,0,0,0.75), -6px -6px 14px rgba(255,255,255,0.05);
}

body:has(#matrix-canvas) .learn-more-modal h3 {
  color: #fff;
}

/* Matrix toggle adopts the shared top-right styles from modular CSS */
#matrixToggle {
  all: unset;
  display: inline-block;
  padding: 0.5rem 0.75rem;
  border-radius: 12px;
  font-weight: 600;
  cursor: pointer;
  background: var(--bg);
  color: var(--text);
  box-shadow: var(--neu-out);
  transition: all 0.25s ease;
}

#matrixToggle:hover {
  box-shadow: var(--neu-inset);
  color: var(--accent);
}

/* Mobile size tweak */
@media (max-width: 768px) {
  #matrixToggle {
    padding: 0.45rem 0.6rem;
    font-size: 0.9rem;
  }
}
