/* Jubah Labs — Dark theme aligned to main site, minimal background, Matrix-friendly */
@import url("style.css");

/* Put the canvas behind everything */
.matrix-bg{
  position:fixed; inset:0; width:100%; height:100svh; pointer-events:none; z-index:-2;
}

/* Minimal dark background (override main page’s white glows) */
body:has(#matrix-canvas) .background-gradient{
  background:
    radial-gradient(900px 600px at 20% 8%, rgba(255,255,255,0.04) 0%, transparent 60%),
    linear-gradient(145deg, var(--bg), var(--bg-2));
}

/* Use Labs dark tokens when site-wide dark mode is NOT active */
body:has(#matrix-canvas):not([data-theme="dark"]){
  --bg: #0d0d0d;
  --bg-2: #141414;
  --text: #e5e5e5;
  --text-dim: #b0b0b0;
  --text-muted: #8a8a8a;
  --accent: #22c55e;

  --neu-light: rgba(255,255,255,.05);
  --neu-dark: rgba(0,0,0,.80);
  --neu-radius: 16px;
  --neu-inset: inset 6px 6px 14px var(--neu-dark), inset -6px -6px 14px var(--neu-light);
  --neu-out:   10px 10px 22px rgba(0,0,0,.85), -10px -10px 22px rgba(255,255,255,.04);

  background: linear-gradient(145deg, var(--bg), var(--bg-2));
  color: var(--text);
}

/* Header + footer match (dark) when Labs dark is active */
body:has(#matrix-canvas):not([data-theme="dark"]) nav,
body:has(#matrix-canvas):not([data-theme="dark"]) footer{
  background: linear-gradient(145deg, #0d0d0d, #141414);
  border-color: rgba(255,255,255,.05);
}

/* Cards/plates pick up tokens (also works in site dark mode) */
body:has(#matrix-canvas) .neu-plate,
body:has(#matrix-canvas) .about-text,
body:has(#matrix-canvas) .project-card,
body:has(#matrix-canvas) .contact-info,
body:has(#matrix-canvas) #cookieConsentBanner,
body:has(#matrix-canvas) .footer-links a,
body:has(#matrix-canvas) .nav-link,
body:has(#matrix-canvas) .btn{
  background: var(--bg);
  color: var(--text);
  box-shadow: var(--neu-out);
}
body:has(#matrix-canvas) .nav-link:hover,
body:has(#matrix-canvas) .footer-links a:hover,
body:has(#matrix-canvas) .btn:hover{ box-shadow: var(--neu-inset); }

/* Titles with subtle green accent */
body:has(#matrix-canvas) .section-title{
  background: linear-gradient(90deg, #22c55e, #86efac);
  -webkit-background-clip:text; background-clip:text; color:transparent; opacity:.95;
}

/* Avatar rim on dark */
body:has(#matrix-canvas) .site-avatar{
  border-color: rgba(255,255,255,.1);
  box-shadow: 6px 6px 14px rgba(0,0,0,.75), -6px -6px 14px rgba(255,255,255,.05);
}

/* Cookie: better contrast on dark */
body:has(#matrix-canvas) .cookie-btn.accept{ color:#ffffff; }
body:has(#matrix-canvas) .cookie-btn.decline{ color:#cccccc; }
body:has(#matrix-canvas) .learn-more-modal h3{ color:#ffffff; }

/* IMPORTANT: remove the old fixed positioning that caused overlap.
   The buttons now live inside .toggle-group from style.css */
#matrixToggle{ all: unset; } /* reset any inline styles */
#matrixToggle{
  display:inline-block; padding:.6rem 1rem; border-radius:12px; font-weight:600; cursor:pointer;
  background: var(--bg); color: var(--text); box-shadow: var(--neu-out); transition: all .25s ease;
}
#matrixToggle:hover{ box-shadow: var(--neu-inset); color: var(--accent); }

/* Mobile */
@media (max-width:768px){
  body:has(#matrix-canvas) .nav-links{ background: rgba(13,13,13,.95); }
  #matrixToggle{ padding:.5rem .85rem; font-size:.9rem; }
}
