/* Jubah Labs â€” Matrix-friendly page that respects the site theme (light/dark) */
@import url("style.css");

/* Canvas behind content */
.matrix-bg{
  position:fixed; inset:0; width:100%; height:100svh; pointer-events:none; z-index:-2;
}

/* Minimal page background (soft, no bright white blooms) */
body:has(#matrix-canvas) .background-gradient{
  background:
    radial-gradient(900px 600px at 20% 8%, rgba(255,255,255,0.04) 0%, transparent 60%),
    linear-gradient(145deg, var(--bg), var(--bg-2));
}

/* ---------- Matrix color tokens (LIGHT default) ---------- */
body:has(#matrix-canvas){
  /* On light theme: fade toward white; digits = deep emerald */
  --matrix-color: rgba(34, 197, 94, 0.90);   /* emerald 500-ish */
  --matrix-glow:  rgba(34, 197, 94, 0.00);   /* no glow on light */
  --matrix-fade:  rgba(255, 255, 255, 0.08); /* white-ish fade */
}

/* ---------- Matrix color tokens (DARK theme) ---------- */
body[data-theme="dark"]:has(#matrix-canvas){
  /* On dark theme: classic neon green with soft glow; fade to black */
  --matrix-color: #00ff41;
  --matrix-glow:  rgba(0, 255, 65, 0.25);
  --matrix-fade:  rgba(0, 0, 0, 0.07);
}

/* Use the global tokens from style.css for components */
body:has(#matrix-canvas) .neu-plate,
body:has(#matrix-canvas) .about-text,
body:has(#matrix-canvas) .project-card,
body:has(#matrix-canvas) .contact-info,
body:has(#matrix-canvas) #cookieConsentBanner,
body:has(#matrix-canvas) .footer-links a,
body:has(#matrix-canvas) .nav-link,
body:has(#matrix-canvas) .btn{
  background: var(--bg);
  color: var(--text);
  box-shadow: var(--neu-out);
}
body:has(#matrix-canvas) .nav-link:hover,
body:has(#matrix-canvas) .footer-links a:hover,
body:has(#matrix-canvas) .btn:hover{
  box-shadow: var(--neu-inset);
}

/* Title accent stays green on Labs */
body:has(#matrix-canvas) .section-title{
  background: linear-gradient(90deg, #22c55e, #86efac);
  -webkit-background-clip:text; background-clip:text;
  color: transparent; opacity:.95;
}

/* Avatar rim */
body:has(#matrix-canvas) .site-avatar{
  border-color: rgba(255,255,255,.1);
  box-shadow: 6px 6px 14px rgba(0,0,0,.75), -6px -6px 14px rgba(255,255,255,.05);
}

/* Cookie modal heading readability */
body:has(#matrix-canvas) .learn-more-modal h3{ color:#ffffff; }

/* Use the shared toggle-group styles from style.css; no fixed pos here */
#matrixToggle{ all: unset; }
#matrixToggle{
  display:inline-block; padding:.5rem .75rem; border-radius:12px; font-weight:600; cursor:pointer;
  background: var(--bg); color: var(--text); box-shadow: var(--neu-out); transition: all .25s ease;
}
#matrixToggle:hover{ box-shadow: var(--neu-inset); color: var(--accent); }

/* Dark mobile menu background; light uses default */
body[data-theme="dark"]:has(#matrix-canvas) .nav-links{
  background: rgba(13,13,13,.95);
}

/* Mobile sizing for the Matrix button */
@media (max-width:768px){
  #matrixToggle{ padding:.45rem .6rem; font-size:.9rem; }
}

/* === Fix: Pure black Matrix background in DARK mode ================== */
/* Put solid black directly under the canvas only on Labs + dark theme */
body[data-theme="dark"]:has(#matrix-canvas) .matrix-bg{
  background:#000 !important;
}

/* Keep the trail fade truly black in dark mode (removes any tint) */
body[data-theme="dark"]:has(#matrix-canvas){
  --matrix-fade: rgba(0,0,0,0.14);
  --matrix-glow: rgba(0,255,65,0.18); /* soft glow; lower if you want zero haze */
}

/* Ensure the page-wide gradient behind everything stays neutral (no green) */
body[data-theme="dark"]:has(#matrix-canvas) .background-gradient{
  background:#000 !important;
}

/* === Pure-black Matrix in DARK mode (no green tint) ================== */
/* 1) Disable green glow haze, 2) Fade trails to black more aggressively,
   3) Ensure surfaces under the canvas are true black. */
body[data-theme="dark"]:has(#matrix-canvas){
  --matrix-glow: transparent;          /* no glow = no green bloom */
  --matrix-fade: rgba(0,0,0,0.48);     /* stronger black fade per frame */
}

body[data-theme="dark"]:has(#matrix-canvas) .matrix-bg,
body[data-theme="dark"]:has(#matrix-canvas) .background-gradient{
  background:#000 !important;          /* solid black behind the canvas */
}



